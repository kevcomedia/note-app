(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n(31)},,,,,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(9),r=n.n(c),l=n(3),s=n(6),i=(n(21),n(4));n(22);var u=function(e){return a.a.createElement("div",{className:"toolbar",role:"toolbar","aria-label":"Notes options"},e.children)},d=n(12),f=n(10);n(25);function m(e){var t=e.label,n=e.icon,o=e.className,c=Object(d.a)(e,["label","icon","className"]);return a.a.createElement("button",Object.assign({className:"btn ".concat(o),type:"button"},c),n&&a.a.createElement(f.a,{icon:n,fixedWidth:!0}),t)}m.defaultProps={className:""};var N=m;n(26);var p=function(e){var t=e.note.text.split(/(?:\r?\n)+/),n=t[0].trim(),o=t[1]&&t[1].trim(),c="note-list-item";return e.selected&&(c+=" note-list-item_selected"),e.note.text.trim()||(c+=" note-list-item_empty"),a.a.createElement("li",{className:c,onClick:function(){e.onClick(e.note.id)}},a.a.createElement("h5",{className:"note-list-item__title"},n||"(empty note)"),o&&a.a.createElement("p",{className:"note-list-item__first-line"},o))};n(27);var v=function(e){var t="note-list ".concat(e.className),n=e.notes.map(function(t){return a.a.createElement(p,{note:t,key:t.id,selected:t.id===e.selectedNoteId,onClick:function(t){return e.onNoteSelect(t)}})});return n.length>0?a.a.createElement("ul",{className:t},n):a.a.createElement("p",{className:"no-notes"},"You have no notes.")},b=(n(28),Object(o.forwardRef)(function(e,t){var n=e.className,o=e.selectedNote,c=e.onChange;return a.a.createElement("textarea",{className:"editor ".concat(n),value:o?o.text:"",onChange:function(e){return c(e.target.value)},ref:t})})),E=n(7),h=n(5),I=n(11);var O=function(e,t){var n=Object(I.debounce)(function(e){localStorage.setItem("notes",JSON.stringify(e))},1e3);Object(o.useEffect)(function(){var e=JSON.parse(localStorage.getItem("notes"));t({type:"load",savedState:e})},[t]),Object(o.useEffect)(function(){n(e)})};function g(e,t){switch(t.type){case"add":return function(e){var t=1+e.notes.map(function(e){return e.id}).reduce(function(e,t){return t>e?t:e},0),n=Object(h.a)(e.notes);return n.unshift({text:"",id:t}),Object(E.a)({},e,{notes:n,selectedNoteId:t})}(e);case"delete":return function(e){if(null===e.selectedNoteId||0===e.notes.length)return e;var t=e.notes.findIndex(function(t){return t.id===e.selectedNoteId}),n=Object(h.a)(e.notes);return n.splice(t,1),{notes:n,selectedNoteId:n.length>0?n[n.length-1].id:null}}(e);case"update":return function(e,t){if(null===e.selectedNoteId)return e;var n=e.notes.findIndex(function(t){return t.id===e.selectedNoteId}),o=Object(h.a)(e.notes);o.splice(n,1);var a=e.notes[n];return o.unshift(Object(E.a)({},a,{text:t})),{notes:o,selectedNoteId:e.selectedNoteId}}(e,t.text);case"select":return{notes:e.notes,selectedNoteId:t.selectedNoteId};case"load":return t.savedState||{notes:[],selectedNoteId:null};default:throw new Error}}var w=function(e){var t=Object(o.useReducer)(g,{notes:[],selectedNoteId:null}),n=Object(i.a)(t,2),a=n[0],c=n[1],r=a.notes.find(function(e){return e.id===a.selectedNoteId});return Object(o.useEffect)(function(){e.current&&(e.current.focus(),e.current.selectionEnd=0)},[e,a.selectedNoteId]),O(a,c),[a.notes,r,function(){c({type:"add"})},function(){c({type:"delete"})},function(e){c({type:"update",text:e})},function(e){c({type:"select",selectedNoteId:e})}]};n(30);var j=function(e){var t=Object(o.useRef)(),n=w(t),c=Object(i.a)(n,6),r=c[0],l=c[1],s=c[2],d=c[3],f=c[4],m=c[5];return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"App__side"},a.a.createElement(u,null,a.a.createElement(N,{label:"New Note",icon:"plus",onClick:s}),a.a.createElement(N,{label:"Delete",icon:"trash-alt",onClick:d})),a.a.createElement(v,{notes:r,selectedNoteId:l?l.id:null,onNoteSelect:m})),a.a.createElement(b,{className:"App__main",selectedNote:l,onChange:f,ref:t}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.b.add(s.a,s.b),r.a.render(a.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[13,1,2]]]);
//# sourceMappingURL=main.bccfcae7.chunk.js.map